<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Visitor Tracker</title>
</head>
<body>
    <h1>Tracking Visitor...</h1>

    <script>
        window.onload = () => {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(async (position) => {
                    const platform = navigator.platform;
                    const language = navigator.language;
                    const latitude = position.coords.latitude;
                    const longitude = position.coords.longitude;

                    await fetch('/api/trackVisit', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ platform, language, latitude, longitude })
                    });

                    console.log('Visitor location tracked.');
                }, () => {
                    console.log('Location access denied.');
                });
            } else {
                console.log('Geolocation not supported.');
            }
        };
    </script>
</body>
</html>
